# Local OpenShift Deployment Configuration Template
# Copy this file to openshift/local/local-config.yaml and fill in your actual values
# The local file will be ignored by git for security

deployment:
  namespace: "cost-monitor"
  cluster_domain: "apps.your-cluster.example.com"  # Replace with your OpenShift cluster domain
  image_registry: "default-route-openshift-image-registry.apps.your-cluster.example.com"  # Replace with your registry

# OAuth SSO Configuration
oauth:
  enabled: true  # Set to false to disable OAuth and use basic routes
  # OAuth settings will be auto-detected from OpenShift cluster
  # client_id and cookie_secret will be auto-generated
  # User role mappings can be configured in openshift/base/auth/oauth-secrets.yaml

git:
  repository: "https://github.com/rhpds/cost-monitor.git"
  branch: "main"

secrets:
  # Database credentials (passwords will be auto-generated)
  postgresql:
    username: "cost_monitor_user"
    password: "$(openssl rand -base64 32)"
    database: "cost_monitor"

  # Redis credentials (password will be auto-generated)
  redis:
    password: "$(openssl rand -base64 32)"

  # AWS credentials
  aws:
    access_key_id: "REPLACE_WITH_YOUR_AWS_ACCESS_KEY"
    secret_access_key: "REPLACE_WITH_YOUR_AWS_SECRET_KEY"
    region: "us-east-1"

  # Azure credentials
  azure:
    client_id: "REPLACE_WITH_YOUR_AZURE_CLIENT_ID"
    client_secret: "REPLACE_WITH_YOUR_AZURE_CLIENT_SECRET"
    tenant_id: "REPLACE_WITH_YOUR_AZURE_TENANT_ID"
    subscription_id: "REPLACE_WITH_YOUR_AZURE_SUBSCRIPTION_ID"
    storage_account: "REPLACE_WITH_STORAGE_ACCOUNT_NAME"
    export_name: "REPLACE_WITH_EXPORT_NAME"
    container: "REPLACE_WITH_CONTAINER_NAME"

  # GCP credentials
  gcp:
    project_id: "your-gcp-project-id"
    bigquery_billing_dataset: "your_billing_dataset"  # e.g., "all_billing_data"
    billing_account_id: "your-billing-account-id"     # e.g., "018E14-C10C66-5F7BC2"

    # Option 1: Use a service account JSON file (for local development)
    service_account_file: "/path/to/your/gcp-service-account.json"

    # Option 2: Use inline JSON credentials (for config files)
    # Uncomment and use this instead of service_account_file:
    # credentials_json: |
    #   {
    #     "type": "service_account",
    #     "project_id": "your-project-id",
    #     "private_key_id": "...",
    #     "private_key": "-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n",
    #     "client_email": "...",
    #     "client_id": "...",
    #     "auth_uri": "https://accounts.google.com/o/oauth2/auth",
    #     "token_uri": "https://oauth2.googleapis.com/token",
    #     "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
    #     "client_x509_cert_url": "...",
    #     "universe_domain": "googleapis.com"
    #   }

  # Webhook secrets
  webhook:
    github_secret: "generate-secure-webhook-secret"
    generic_secret: "generate-secure-webhook-secret"

resources:
  # Resource limits and requests
  data_service:
    memory_request: "2Gi"
    memory_limit: "4Gi"
    cpu_request: "500m"
    cpu_limit: "2000m"

  dashboard:
    memory_request: "1Gi"
    memory_limit: "4Gi"
    cpu_request: "100m"
    cpu_limit: "1000m"

  storage:
    data_cache_size: "10Gi"
    logs_size: "5Gi"
    postgresql_size: "20Gi"
    storage_class: "ocs-storagecluster-ceph-rbd"  # Adjust for your storage class
